(this.webpackJsonprssreader=this.webpackJsonprssreader||[]).push([[0],{40:function(e,t,c){},42:function(e,t,c){},61:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),i=c.n(s),a=c(31),r=c.n(a),l=(c(40),c(9)),o=c.n(l),d=c(15),u=c(7),j=c(11),b=c(2),h=(c(42),c(10)),m=c.n(h),O=c(33),f=c(34),p=(c(61),c(13)),x=function(e){return Object(n.jsx)("div",{className:"pod-box column is-quarter mt-4",children:Object(n.jsx)(j.b,{to:{pathname:"podcast/".concat(e.id)},children:Object(n.jsx)("button",{className:"button",id:e.id,children:e.title})})})},v=function(){return Object(n.jsx)("div",{className:"card card-size",children:Object(n.jsx)("div",{className:"card-content ",children:Object(n.jsx)("div",{className:"content",children:"You haven't added any podcast feeds yet! \n\n          When you do, they'll show up here!"})})})},N=function(e){var t=e.podcasts,c=e.setPodcasts,i=function(e){var n=t.filter((function(t){return t._id!==e}));c(n)};return Object(s.useEffect)((function(){}),[t]),Object(n.jsxs)("div",{className:"mt-6",children:[Object(n.jsx)("div",{className:"flex-center",children:0===t.length?Object(n.jsx)(v,{}):Object(n.jsx)("h3",{children:"Podcast Feeds"})}),Object(n.jsx)("div",{id:"hidden",className:"active columns is-multiline px-2",children:t.map((function(e){return Object(n.jsx)(x,{title:e.title,link:e.link,id:e._id,updateLocal:i},e._id)}))})]})},g=function(e){var t=e.podcasts,i=e.setPodContent,a=Object(s.useState)(null),r=Object(u.a)(a,2),l=r[0],o=r[1],d=Object(s.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],x=Object(s.useState)(!1),v=Object(u.a)(x,2),g=v[0],k=v[1],y=Object(s.useState)({title:!1,link:!1}),w=Object(u.a)(y,2),S=w[0],C=w[1],I=c(67),E=function(e){return Object(p.toast)({message:e,type:"is-danger",position:"bottom-center",dismissible:!0,animate:{in:"fadeIn",out:"fadeOut"}})},P=function(e){e.preventDefault(),k(!0);var c=Object(f.a)({},S);C({title:!1,link:!1});var n=function(e){return"http://"!==e.substring(0,7)&&"https://"!==e.substring(0,8)&&(e="https://"+e),void 0!==I.isWebUri(e)}(b.trim());if(!n.status&&!l)return E("Please fill out both fields!"),k(!1),c.title=!0,c.link=!0,void C(c);if(!n.status)return E("Please enter a valid link!"),k(!1),c.link=!0,void C(c);if(!l)return E("Please enter a title!"),k(!1),c.title=!0,void C(c);var s={title:l,link:n.url};m.a.post("/save",s).then((function(e){var c=Object(O.a)(t);c.push(e.data),i(c),k(!1)}));o(""),h(""),Object(p.toast)({message:"Podcast successfully added!",type:"is-success",position:"bottom-center",dismissible:!0,animate:{in:"fadeIn",out:"fadeOut"}})};return Object(s.useEffect)((function(){}),[t]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("div",{className:"box mt-4",children:[Object(n.jsx)("h3",{children:"Enter a RSS link to a podcast below!"}),Object(n.jsxs)("div",{className:"form",children:[Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label is-normal form-label",children:"Link Name"}),Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("input",{className:S.title?"input form-error":"input",type:"text",id:"formInput",placeholder:"Ex. My Brother, My Brother, and Me",onChange:function(e){return o(e.target.value)}})})]}),Object(n.jsxs)("div",{className:"field ",children:[Object(n.jsx)("label",{className:"label form-label",children:"Link"}),Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("input",{className:S.link?"input form-error":"input",type:"text",id:"formInput",placeholder:"Ex. https://yourlinkhere.com",onChange:function(e){return h(e.target.value)}})})]}),Object(n.jsx)("div",{className:"field",children:Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("button",{className:g?"button is-loading disabled":"button form",id:"formSub",onClick:function(e){return P(e)},children:"Submit"})})})]})]})}),Object(n.jsx)("div",{children:Object(n.jsx)(N,{podcasts:t,setPodcasts:i})})]})},k=(c(69),function(e){var t=e.podcast;return Object(n.jsxs)("div",{className:"selection-container",children:[Object(n.jsx)("div",{className:"episode-title",children:t.title}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:t.contentSnippet})}),Object(n.jsx)("div",{className:"mt-2 audio-player",children:Object(n.jsx)("audio",{controls:!0,preload:"none",children:Object(n.jsx)("source",{src:t.enclosure.url,type:t.enclosure.type})})})]})}),y=function(e){var t=e.detailedData,c=e.search,s=e.select;return t.items.filter((function(e){return e.title.toLowerCase().includes(c)})).map((function(e){return Object(n.jsx)("li",{className:"mt-2 mb-2",children:Object(n.jsx)("div",{className:"columns",children:Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("button",{className:"button episode",onClick:function(){return s(e)},children:e.title})})})},e.guid)}))},w=function(e){var t=e.error,c=e.handleButtonClick;return Object(s.useEffect)((function(){}),[t]),Object(n.jsx)(i.a.Fragment,{children:t?Object(n.jsx)("div",{className:"loading-section",children:Object(n.jsxs)("div",{className:"card ",children:[Object(n.jsx)("div",{className:"card-content card-width",children:Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("p",{class:"title is-4",children:"Uh oh! It looks like something went wrong with loading the RSS feed"}),Object(n.jsx)("p",{children:"This error most commonly occurs when the link provided doesn't direct to an RSS feed, try double checking the link and trying again!"})]})}),Object(n.jsx)("div",{className:"back-button",children:Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("button",{className:"button is-normal",children:"Go back"})})}),Object(n.jsx)("div",{className:"del-button",children:Object(n.jsx)("button",{className:"button is-danger",onClick:c,children:"Delete"})})]})}):Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"loading-section",children:Object(n.jsx)("button",{className:"button is-loading"})})})})},S=function(e){var t=e.match,c=e.handleDelete,a=Object(s.useState)(""),r=Object(u.a)(a,2),l=r[0],h=r[1],O=Object(s.useState)({}),f=Object(u.a)(O,2),p=f[0],x=f[1],v=Object(s.useState)(!1),N=Object(u.a)(v,2),g=N[0],S=N[1],C=Object(s.useState)(null),I=Object(u.a)(C,2),E=I[0],P=I[1],D=Object(s.useState)(!1),B=Object(u.a)(D,2),L=B[0],F=B[1],M=Object(b.f)(),_=t.match.params.podId;function R(){return(R=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/podcastFeed/".concat(t),{id:t}).then((function(e){e.data.status?P(e.data.feed):F(!0)})).catch((function(e){return console.log(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){var e=window.confirm("Are you sure you want to delete this feed?");e&&(c(e,_),M.push("/"))};return Object(s.useEffect)((function(){!function(e){R.apply(this,arguments)}(_)}),[_]),Object(s.useEffect)((function(){}),[l]),Object(n.jsx)(i.a.Fragment,{children:null===E?Object(n.jsx)(w,{error:L,handleButtonClick:A}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"title",children:E.title}),Object(n.jsx)("div",{className:"columns",children:Object(n.jsx)("div",{className:"column mt-3 search",children:Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("input",{className:"input",type:"text",id:"searchInput",placeholder:"Search for an episode!",onChange:function(e){return function(e){h(e.trim().toLowerCase())}(e.target.value)}})})})}),Object(n.jsxs)("div",{className:"columns",children:[Object(n.jsx)("div",{className:"column is-one-third pod-image-container",children:Object(n.jsx)("img",{className:"pod-Img px-5 pb-3",src:E.image.url,alt:"pod icon"})}),Object(n.jsx)("div",{className:"column is-one-third list-container",children:Object(n.jsx)("ul",{children:Object(n.jsx)(y,{detailedData:E,search:l,select:function(e){g||S(!0),x(e)}})})}),Object(n.jsx)("div",{className:"column is-one-third show-description",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"title-container",children:Object(n.jsx)("h4",{className:"feed-title",children:E.description})}),g?Object(n.jsx)(k,{podcast:p}):null]})})]}),Object(n.jsx)("div",{className:"back-button",children:Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("button",{className:"button is-normal",children:"Go back"})})}),Object(n.jsx)("div",{className:"del-button",children:Object(n.jsx)("button",{className:"button is-danger",onClick:A,children:"Delete"})})]})})};var C=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],a=function(e){var t=c.filter((function(t){return t._id!==e}));i(t)};function r(){return(r=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/podcasts").then((function(e){i(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(){return Object(p.toast)({message:"Podcast successfully deleted!",type:"is-success",position:"bottom-center",dismissible:!0,animate:{in:"fadeIn",out:"fadeOut"}})},h=function(){return Object(p.toast)({message:"Something went wrong!",type:"is-danger",position:"center",dismissible:!0,animate:{in:"fadeIn",out:"fadeOut"}})};function O(e,t){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,m.a.delete("/delete",{data:{id:c}}).then((function(e){e.status?(a(c),l()):h()})).catch((function(e){return console.log(e)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(j.a,{children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{exact:!0,path:"/",component:function(){return Object(n.jsx)(g,{podcasts:c,setPodContent:i})}}),Object(n.jsx)(b.a,{exact:!0,path:"/podcast/:podId",component:function(e){return Object(n.jsx)(S,{match:e,handleDelete:O})}})]})})})};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.270a091c.chunk.js.map